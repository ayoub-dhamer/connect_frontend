<div class="user-table-container">
  <h2 class="table-title">ðŸ‘¥ User Management</h2>

  <!-- Search input -->
  <div class="search-box">
    <input
      type="text"
      placeholder="Search by name or email..."
      [(ngModel)]="searchTerm"
      (input)="applyFilter()"
    />
  </div>

  <!-- Table -->
  <table class="responsive-table">
    <caption>List of Users</caption>
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Email</th>
        <th scope="col">Name</th>
        <th scope="col">Roles</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers; let i = index">
        <td data-label="#"> {{ i + 1 }} </td>
        <td data-label="Email">{{ user.email }}</td>
        <td data-label="Name">{{ user.name }}</td>
        <td data-label="Roles">
          <span class="role" *ngFor="let role of user.roles">{{ role }}</span>
        </td>
        <td data-label="Actions">
          <button class="delete-btn" (click)="deleteUser(user)">
            <i class="fas fa-trash"></i> Delete
          </button>
        </td>
      </tr>

      <tr *ngIf="filteredUsers.length === 0">
        <td colspan="5" class="no-data">No users found</td>
      </tr>
    </tbody>
  </table>

   <!-- Pagination Controls -->
  <div class="pagination-container" *ngIf="filteredUsers.length > 0">
    <div class="page-size">
      <label for="pageSize">Rows per page:</label>
      <select id="pageSize" [(ngModel)]="pageSize" (change)="updatePagination()">
        <option *ngFor="let size of pageSizes" [value]="size">{{ size }}</option>
      </select>
    </div>

    <div class="page-controls">
      <button (click)="previousPage()" [disabled]="currentPage === 1">Prev</button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
    </div>
  </div>
</div>
